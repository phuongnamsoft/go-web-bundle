{"version":3,"file":"/js/payment.js","mappings":"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","sources":["webpack://vue-boilerplate/./resources/src/js/payment.js"],"sourcesContent":["paypal.Buttons({\n\n    // Set your environment\n    env: paypal_env,\n\n    // Set style of buttons\n    style: {\n        layout: 'horizontal',   // horizontal | vertical\n        size: 'large',   // medium | large | responsive\n        shape: 'rect',         // pill | rect\n        color: 'gold',         // gold | blue | silver | black,\n        fundingicons: false,    // true | false,\n        tagline: false          // true | false,\n    },\n// onInit is called when the button first renders\n    onInit: function (data, actions) {\n\n        // Disable the buttons\n        actions.disable();\n\n        // Listen for changes to the checkbox\n        document.querySelector('#amount')\n            .addEventListener('keyup', function (event) {\n                let amount = event.target.value;\n                amount = +amount;\n                if (isNaN(amount)) {\n                    document.getElementById(\"amount-err\").innerHTML = \"Invalid amount format\";\n                    setTimeout(function () {\n                        document.getElementById(\"amount-err\").innerHTML = \"\";\n                    }, 2000);\n                    actions.disable();\n                } else if (amount < 5) {\n                    document.getElementById(\"amount-err\").innerHTML = \"Amount must be greater than 5\";\n                    setTimeout(function () {\n                        document.getElementById(\"amount-err\").innerHTML = \"\";\n                    }, 2000);\n                    actions.disable();\n                }\n                if (event.target.value === \"\") {\n                    document.getElementById(\"amount-err\").innerHTML = \"Invalid amount format\";\n                    setTimeout(function () {\n                        document.getElementById(\"amount-err\").innerHTML = \"\";\n                    }, 2000);\n                    actions.disable();\n                } else {\n                    actions.enable();\n                }\n            });\n    },\n\n    // onClick is called when the button is clicked\n    onClick: function () {\n        var regex = /^\\d+(?:\\.\\d{0,2})$/;\n        let amount = document.getElementById(\"amount\").value;\n        amount = +amount;\n        if (isNaN(amount)) {\n            alert(2);\n            document.getElementById(\"amount-err\").innerHTML = \"Invalid amount format\";\n            setTimeout(function () {\n                document.getElementById(\"amount-err\").innerHTML = \"\";\n            }, 2000);\n        }\n    },\n    // Wait for the PayPal button to be clicked\n    createOrder: function () {\n        let formData = new FormData();\n        let amount = document.getElementById(\"amount\").value;\n\n        formData.append('amount', amount);\n\n        return fetch(\n            '/app/paypal/do/order',\n            {\n                method: 'POST',\n                body: formData\n            }\n        ).then(function (response) {\n            return response.json();\n        }).then(function (resJson) {\n            return resJson.data.id;\n        });\n    },\n\n    // Wait for the payment to be authorized by the customer\n    onApprove: function (data, actions) {\n        return fetch(\n            '/app/paypal/order/success/' + data.orderID,\n            {\n                method: 'POST'\n            }\n        ).then(function (res) {\n            return res.json();\n        }).then(function (res) {\n\n            // window.location.href = '/account/paypal/order/success';\n        });\n    },\n\n\n    // Wait for the payment to be authorized by the customer\n    onCancel: function (data, actions) {\n        return fetch(\n            '/app/paypal/order/cancel/' + data.orderID,\n            {\n                method: 'POST'\n            }\n        ).then(function (res) {\n            return res.json();\n        }).then(function (res) {\n\n            // window.location.href = '/account/paypal/order/success';\n        });\n    },\n\n\n}).render('#paypalCheckoutContainer');\n"],"names":["paypal","Buttons","env","paypal_env","style","layout","size","shape","color","fundingicons","tagline","onInit","data","actions","disable","document","querySelector","addEventListener","event","amount","target","value","isNaN","getElementById","innerHTML","setTimeout","enable","onClick","regex","alert","createOrder","formData","FormData","append","fetch","method","body","then","response","json","resJson","id","onApprove","orderID","res","onCancel","render"],"sourceRoot":""}